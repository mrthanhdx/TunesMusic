<!DOCTYPE html>
<html lang="en">
<!--head-->
<head th:replace="~{/user/fragments/head::head}"></head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div th:replace="~{/user/fragments/sidebar::sidebar}"></div>

            <!-- End Sidebar -->


            <div class="col-md-9 content bg-dark">
                <!-- Main Content -->
                <div class="main-content">
                    <!-- Replace with your main content elements -->
                    <div class="search-header">
                        <div class="search-bar row;">
                            <form id="searchForm" onsubmit="handleSearch(event)">
                                <input class="search-input" id="keysearch" name="keysearch" type="text" placeholder="What do you want to play ?">
                                <button type="submit">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                                    </svg>
                                </button>
                            </form>
                        </div>

                        <div class="category-search">
                            <a href="#"><button class="active">Song</button></a>
                            <a href="#"><button>Artist</button></a>
                            <a href="#"><button>Album</button></a>

                        </div>
                    </div>

                    <div class="list-result-search">
                        <ul>
                            <li th:each="track : ${listTrack}">
                                <div class="result row" style="display: flex">
                                    <a class="ajax-link" style="width: 82%;height: 100%;text-decoration: none" th:href="@{/tunesmusic/search/playsong(trackid=${track.id})}">
                                        <img th:src="@{${track.sourceCoverImage}}" alt="song cover photo">
                                        <label th:text="${track.trackName} + ' - ' + ${track.artist.artistName}"></label>
                                    </a>
                                    <div class="dropdown" style="width: 12%">
                                        <i onclick="toggleDropdown(this)" style="width: 20px; cursor: pointer;" class="fa-solid fa-ellipsis"></i>
                                        <div class="dropdown-content">
                                            <a th:href="@{/tunesmusic/add-to-favorite(trackId=${track.id})}">Add to Favorite</a>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>

                    <script th:inline="javascript">
                        /*<![CDATA[*/
                        var trackList = /*[[${listTrack}]]*/ [];
                        /*]]>*/
                    </script>
                </div>
                <!-- End Main Content -->
            </div>
        </div>
        <!-- Music Player -->
        <div th:replace="~{/user/fragments/playerbar::playerbar}"></div>




    </div>

    <!-- Footer -->
    <div th:replace="~{/user/fragments/footer::footer}"></div>
    <!-- End Footer -->
    </div>


    <div th:replace="~{/user/fragments/foot::foot}"></div>

    <script th:src="@{/js/home.js}"></script>
    <script th:src="@{/js/search.js}"></script>
</body>

</html>